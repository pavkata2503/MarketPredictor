# MarketPredictor

# Forex News Sentiment (GDELT + VADER)

–£–µ–± –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Node.js + Express + Vanilla JS), –∫–æ–µ—Ç–æ:
- —Å–∫–∞–Ω–∏—Ä–∞ –ø–æ—Å–ª–µ–¥–Ω–∏ –∏–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏ –Ω–æ–≤–∏–Ω–∏ (headline-–∏) –æ—Ç **GDELT 2.0 DOC API**
- –ø—Ä–∞–≤–∏ **sentiment –∞–Ω–∞–ª–∏–∑** —Å **VADER**
- —Å—Ä–∞–≤–Ω—è–≤–∞ ‚Äú—Ç–æ–Ω–∞‚Äù –Ω–∞ –Ω–æ–≤–∏–Ω–∏—Ç–µ –∑–∞ **base** –≤–∞–ª—É—Ç–∞—Ç–∞ —Å—Ä–µ—â—É **quote** –≤–∞–ª—É—Ç–∞—Ç–∞ –∑–∞ –∏–∑–±—Ä–∞–Ω Forex —á–∏—Ñ—Ç (–Ω–∞–ø—Ä. `EURUSD`)
- –¥–∞–≤–∞ —Å–∏–≥–Ω–∞–ª **Bullish (Buy) / Bearish (Sell) / Neutral**
- –ø–æ–∫–∞–∑–≤–∞ **1‚Äì2 –∏–∑—Ä–µ—á–µ–Ω–∏—è summary** + –∫—Ä–∞—Ç–∫–æ ‚Äúwhy‚Äù –æ–±—è—Å–Ω–µ–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä–Ω–∏ headline-–∏

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –¢–æ–≤–∞ –ù–ï –µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤ —Å—ä–≤–µ—Ç. –°–∏–≥–Ω–∞–ª—ä—Ç –µ —Ö–µ–≤—Ä–∏—Å—Ç–∏–∫–∞ –Ω–∞ –±–∞–∑–∞ –Ω–æ–≤–∏–Ω–∏ –∏ –º–æ–∂–µ –¥–∞ –≥—Ä–µ—à–∏.

---

## üß© –ö–∞–∫ —Ä–∞–±–æ—Ç–∏ (–Ω–∞–∫—Ä–∞—Ç–∫–æ)

–ó–∞ –∏–∑–±—Ä–∞–Ω —á–∏—Ñ—Ç `XXXYYY`:
- `XXX` = base –≤–∞–ª—É—Ç–∞ (–ø—Ä–∏–º–µ—Ä `EUR`)
- `YYY` = quote –≤–∞–ª—É—Ç–∞ (–ø—Ä–∏–º–µ—Ä `USD`)

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ:
1. –î—ä—Ä–ø–∞ headline-–∏ –∑–∞ `XXX` –∏ `YYY` –æ—Ç GDELT –∑–∞ –∏–∑–±—Ä–∞–Ω–∏—è `timespan` (–Ω–∞–ø—Ä. 24h)
2. –ó–∞ –≤—Å–µ–∫–∏ headline –∏–∑—á–∏—Å–ª—è–≤–∞ sentiment (`-1` –¥–æ `+1`) —Å VADER
3. –ü—Ä–∏ **high-impact** –¥—É–º–∏ (CPI, NFP, rate decision‚Ä¶) –¥–∞–≤–∞ –ø–æ-–≥–æ–ª—è–º–∞ **—Ç–µ–∂–µ—Å—Ç** (weight)
4. –ò–∑—á–∏—Å–ª—è–≤–∞:
   - `baseAvg` = weighted average sentiment –∑–∞ base –≤–∞–ª—É—Ç–∞—Ç–∞
   - `quoteAvg` = weighted average sentiment –∑–∞ quote –≤–∞–ª—É—Ç–∞—Ç–∞
   - `spread = baseAvg - quoteAvg`
5. –í–∑–∏–º–∞ —Ä–µ—à–µ–Ω–∏–µ:
   - `spread >= 0.12` ‚Üí **Bullish (Buy)**
   - `spread <= -0.12` ‚Üí **Bearish (Sell)**
   - –∏–Ω–∞—á–µ ‚Üí **Neutral**
6. –ì–µ–Ω–µ—Ä–∏—Ä–∞ –∫—Ä–∞—Ç–∫–æ ‚Äúwhy‚Äù:
   - –∫–æ–∏ high-impact –≥—Ä—É–ø–∏ —Å–∞ –±–∏–ª–∏ –Ω–∞–π-—á–µ—Å—Ç–∏
   - –ø—Ä–∏–º–µ—Ä –∑–∞ –Ω–∞–π-–≤–ª–∏—è—Ç–µ–ª–Ω–∏ headline-–∏

---

## üïí –ö–∞–∫–≤–æ –µ `timespan`?

`timespan` –æ–ø—Ä–µ–¥–µ–ª—è **–∫–æ–ª–∫–æ –Ω–∞–∑–∞–¥ –≤—ä–≤ –≤—Ä–µ–º–µ—Ç–æ** —Å–µ –≤–∑–∏–º–∞—Ç –Ω–æ–≤–∏–Ω–∏:
- `6h` = –ø–æ—Å–ª–µ–¥–Ω–∏—Ç–µ 6 —á–∞—Å–∞ (–ø–æ-—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ, –Ω–æ –ø–æ-—à—É–º–Ω–æ)
- `24h` = –±–∞–ª–∞–Ω—Å
- `3d` / `1w` = –ø–æ-—Å—Ç–∞–±–∏–ª–Ω–æ, –Ω–æ –º–æ–∂–µ –¥–∞ ‚Äú–∏–∑–æ—Å—Ç–∞–≤–∞‚Äù

---

## ‚úÖ –ò–∑–∏—Å–∫–≤–∞–Ω–∏—è

- **Node.js 18+** (–∑–∞ –¥–∞ –∏–º–∞—à `fetch()` –≤ Node)
- Internet –¥–æ—Å—Ç—ä–ø (–∑–∞ GDELT API)

–ü—Ä–æ–≤–µ—Ä–∏ –≤–µ—Ä—Å–∏—è—Ç–∞:
```bash
node -v
üöÄ –ò–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –∏ —Å—Ç–∞—Ä—Ç
1) –ö–ª–æ–Ω–∏—Ä–∞–Ω–µ
git clone <your-repo-url>
cd <your-repo-folder>
2) –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–µ –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install
3) –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ
npm start
–û—Ç–≤–æ—Ä–∏:

http://localhost:3000

üì¶ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ü—Ä–æ–µ–∫—Ç—ä—Ç –∏–∑–ø–æ–ª–∑–≤–∞ .env:

.env

PORT=3000
(–û–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ ‚Äî –º–æ–∂–µ –¥–∞ –≥–æ –Ω—è–º–∞; –ø–æ default –µ 3000.)

üß™ API
GET /api/pairs
–í—Ä—ä—â–∞ –ø–æ–¥–¥—ä—Ä–∂–∞–Ω–∏—Ç–µ –¥–≤–æ–π–∫–∏:

{ "pairs": ["EURUSD","USDJPY","GBPUSD","AUDUSD","USDCAD","USDCHF","NZDUSD"] }
GET /api/analyze?pair=EURUSD&timespan=24h
–ü—Ä–∏–º–µ—Ä–µ–Ω response (—Å—ä–∫—Ä–∞—Ç–µ–Ω):

{
  "pair": "EURUSD",
  "timespan": "24h",
  "decision": "BULLISH_BUY",
  "decisionLabel": "Bullish (Buy)",
  "sentiment": {
    "base": "EUR",
    "quote": "USD",
    "baseAvg": 0.12,
    "quoteAvg": -0.03,
    "spread": 0.15,
    "highImpact": {
      "baseCount": 2,
      "quoteCount": 1,
      "baseGroups": { "CPI/Inflation": 1 },
      "quoteGroups": { "Rates/Decision": 1 }
    }
  },
  "summary": "For EURUSD, weighted headline sentiment ...",
  "why": "More positive (weighted) news for EUR than USD ... Example: ...",
  "headlines": {
    "base": [{ "title": "...", "url": "..." }],
    "quote": [{ "title": "...", "url": "..." }]
  }
}
üéØ High-impact weighting
Headline-–∏ —Å –∫–ª—é—á–æ–≤–∏ macro –¥—É–º–∏ –ø–æ–ª—É—á–∞–≤–∞—Ç –ø–æ-–≥–æ–ª—è–º–∞ —Ç–µ–∂–µ—Å—Ç (–ø—Ä–∏–º–µ—Ä–Ω–∏ –≥—Ä—É–ø–∏):

Rates/Decision (rate hike/cut/decision)

CPI/Inflation

Jobs/NFP

GDP/Growth

PMI/Activity

Central Bank Speak

–¢–æ–≤–∞ –ø—Ä–∞–≤–∏ —Å–∏–≥–Ω–∞–ª–∞ –ø–æ-—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –∫—ä–º –≤–∞–∂–Ω–∏ –º–∞–∫—Ä–æ —Å—ä–±–∏—Ç–∏—è.

üßØ Troubleshooting
1) GDELT returned non-JSON...
GDELT –ø–æ–Ω—è–∫–æ–≥–∞ –≤—Ä—ä—â–∞ —Ç–µ–∫—Å—Ç–æ–≤–∞ –≥—Ä–µ—à–∫–∞ (–Ω–µ JSON), –Ω–∞–ø—Ä–∏–º–µ—Ä –ø—Ä–∏:

–ø—Ä–µ–∫–∞–ª–µ–Ω–æ —Å–ª–æ–∂–Ω–∞/–¥—ä–ª–≥–∞ –∑–∞—è–≤–∫–∞

rate limit

–ü—Ä–æ–µ–∫—Ç—ä—Ç —Ö–≤–∞—â–∞ —Ç–æ–≤–∞ –∏ –≤—Ä—ä—â–∞ —è—Å–Ω–∞ –≥—Ä–µ—à–∫–∞.

–ö–∞–∫–≤–æ –¥–∞ –ø—Ä–æ–±–≤–∞—à:

–Ω–µ –Ω–∞—Ç–∏—Å–∫–∞–π Analyze –º–Ω–æ–≥–æ –±—ä—Ä–∑–æ

—Å–º–µ–Ω–∏ timespan –Ω–∞ 3d –∏–ª–∏ 1w

–Ω–∞–º–∞–ª–∏ maxrecords –≤ server.js (–∞–∫–æ —Å–∏ –≥–æ —É–≤–µ–ª–∏—á–∞–≤–∞–ª)

2) –ù—è–º–∞ headline-–∏
–ü–æ–Ω—è–∫–æ–≥–∞ –∑–∞ –∫—Ä–∞—Ç—ä–∫ –ø–µ—Ä–∏–æ–¥ (6h) –º–æ–∂–µ –¥–∞ –∏–º–∞ –º–∞–ª–∫–æ —Ä–µ–∑—É–ª—Ç–∞—Ç–∏. –ü—Ä–æ–±–≤–∞–π 24h –∏–ª–∏ 3d.

3) fetch is not defined
–ó–Ω–∞—á–∏ —Å–∏ –Ω–∞ Node < 18. –™–ø–¥–µ–π—Ç–Ω–∏ Node –¥–æ 18+.

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞
forex-news-sentiment/
  server.js
  package.json
  .env
  public/
    index.html
    app.js
    style.css
üîí Disclaimer
–¢–æ–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –µ —Å–∞–º–æ –∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∏/—É—á–µ–±–Ω–∏ —Ü–µ–ª–∏.
–ù–µ –∏–∑–ø–æ–ª–∑–≤–∞–π —Ä–µ–∑—É–ª—Ç–∞—Ç–∏—Ç–µ –∫–∞—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞ –æ—Å–Ω–æ–≤–∞ –∑–∞ trading —Ä–µ—à–µ–Ω–∏—è.
